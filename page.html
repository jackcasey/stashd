<!DOCTYPE html>
<html>

<head>
    <title>StashD</title>
    <script type="text/javascript" src="crypto.js"></script>
    <script type="text/javascript" src="marked.js"></script>
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="skeleton.css">
</head>

<body>

    <div id="instructions" style="display: none;" class="container">
        <h1 style="text-align: center; margin-top: 3rem;">StashD</h1>
        <hr />
        <p id="instructions-message"></p>
        <hr />
        <p>
            You can decrypt and view this page if you know the password:<br />
            <label for="decrypt-password">Password:</label>
            <input type="password" name="decrypt-password" id="decrypt-password"></input>
        </p>
        <hr />
        <p style="text-align: center;">
            <button class="button-primary" id="decrypt-button">Decrypt</button>
        </p>
    </div>

    <div id="download-step" style="display: none;" class="container">
        <h1 style="text-align: center; margin-top: 3rem;">StashD</h1>
        <hr />
        <p>
            Download and save your encrypted page so you can keep it safely offline or self-host it.
        </p>
        <hr />
        <p style="text-align: center;">
            <label for="download-button">Filename:</label>
            <input type="text" name="filename" id="filename" value="encrypted.html" />
            <button class="button-primary" id="download-button">Download</button>
        </p>
        <p style="text-align: center;">
            Or;
        </p>
        <p style="text-align: center;">
            <button id="skip-download-button">Skip download and go straight to view</button><br /> (You can also download the page when viewing it by using your browser's save page functionality.)
        </p>
    </div>

    <div class="container" id="encrypt-tools">
        <h1 style="text-align: center; margin-top: 3rem;">StashD</h1>
        <hr />
        <p>
            StashD creates standalone portable password encrypted pages that are safe to keep locally or host publically.
        </p>
        <p>
            It is recommended that you test this tool thoroughly before using it for anything important. The tool is provided as-is with no guaranty of correctness.
        </p>
        <p>Enter some <a href="https://github.github.com/gfm/">markdown</a> below to get started:</p>
        <textarea id="plaintext" style="width:100%" class="u-max-full-width"></textarea>
        <div style="display:none" id="preview-pane">
            <div id="preview"></div>
            <div style="text-align: center">
                <button class="button-primary" id="encrypt-button">Encrypt this content</button>
            </div>
        </div>
    </div>

    <div style="display: none;" class="container" id="password-step">
        <h1 style="text-align: center; margin-top: 3rem;">StashD</h1>
        <hr />
        <p>
            StashD includes a short message at the top of the page before a password is entered.
            <br /> (Note that this message will be in plain text and unprotected.)
        </p>
        <p>
            <label for="encrypt-message">Message:</label>
            <input class="u-full-width" type="text" name="encrypt-message" id="encrypt-message" value="This is a self decrypting webpage." />
        </p>
        <p>
            <label for="encrypt-password">Password:</label>
            <input type="password" name="encrypt-password" id="encrypt-password"></input><br /> (Choose a strong password to encrypt your content.)
        </p>
        <hr />
        <div style="text-align: center" id="encrypt-button-2-div">
            <button class="button-primary" id="encrypt-button-2">Encrypt with this password</button>
        </div>
    </div>

    <p style="display: none;" id="encrypted"></p>
    <div style="display: none;" id="decrypted" class="container"></div>

    <button style="display: none; position: fixed; right: 1rem; bottom: 0;" id="create-button">Create another encrypted page</button>

    <div style="position: fixed; left: 1rem; bottom: 1rem; font-size: 1rem; color: #aaa;">v0.2.0 Code and more info @ <a href="https://github.com/jackcasey/stashd">github.com/jackcasey/stashd</a></div>
</body>

</html>
